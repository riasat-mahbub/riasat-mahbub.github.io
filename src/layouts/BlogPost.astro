---
import Layout from "@/layouts/Layout.astro";
import BlogNav from "@/components/blog-nav.astro";

interface Props {
  title: string;
  description: string;
  difficulty: 'Easy' | 'Medium' | 'Hard';
  tags: string[];
  publishDate: Date;
}

const { title, description, difficulty, tags, publishDate } = Astro.props;

const difficultyColors = {
  Easy: 'text-green-500 bg-green-100 dark:bg-green-900',
  Medium: 'text-yellow-500 bg-yellow-100 dark:bg-yellow-900', 
  Hard: 'text-red-500 bg-red-100 dark:bg-red-900'
};
---

<Layout title={`${title} - Blog`}>
  <BlogNav />
  <main class="min-h-screen bg-white dark:bg-gray-900 pt-20">
    <div class="max-w-4xl mx-auto px-6 py-12">
      <div class="mb-8">
        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">{title}</h1>
        <p class="text-lg text-gray-600 dark:text-gray-300 mb-4">{description}</p>
        
        <div class="flex flex-wrap gap-2 mb-4">
          <span class={`px-3 py-1 rounded-full text-sm font-medium ${difficultyColors[difficulty]}`}>
            {difficulty}
          </span>
          {tags.map(tag => (
            <span class="px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full text-sm">
              {tag}
            </span>
          ))}
        </div>
        
        <p class="text-sm text-gray-500 dark:text-gray-400">
          {publishDate.toLocaleDateString()}
        </p>
      </div>
      
      <article class="prose prose-lg dark:prose-invert max-w-none">
        <slot />
      </article>
      
      <div class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
        <a href="/blog" class="text-purple-600 dark:text-purple-400 hover:underline">
          ‚Üê Back to Blog
        </a>
      </div>
    </div>
  </main>
</Layout>

<style>
  .prose code {
    @apply bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm;
  }
  
  .prose pre {
    @apply bg-gray-900 dark:bg-gray-800 rounded-lg p-4 overflow-x-auto;
  }
  
  .prose pre code {
    @apply bg-transparent p-0 text-gray-100;
  }
</style>